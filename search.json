[{"path":"https://mattblackwell.github.io/DirectEffects/articles/DirectEffects.html","id":"quantity-of-interest","dir":"Articles","previous_headings":"","what":"Quantity of interest","title":"Estimating controlled direct effects","text":"briefly introduce statistical theory behind estimating direct effects. main quantity interest average controlled direct effect ACDE. can illustrated following causal structure (Acharya, Blackwell, Sen 2016, Figure 3):  average controlled direct effect defined given treatment (\\(A_i = \\) vs. \\(A_i = ^\\prime\\)) given value mediator (\\(M_i = m\\)) \\[ACDE(, ^\\prime, m) = E[Y_i(, m) - Y_i(^\\prime, m)]\\] total dashed lines figure . Thus, hold mediator constant comparing outcome treatment. ACDE useful discriminating causal mechanisms, average total effect treatment, \\(\\tau(, ^\\prime) \\equiv E[(Y_i() - Y_i(^\\prime)]\\), can decomposed sum three quantities: (1) ACDE, (2) average natural indirect effect, (3) reference interaction measures much direct effect \\(A_i\\) depends particular \\(M_i = m\\). Thus, ACDE non-zero, evidence effect \\(A_i\\) entirely explained \\(M_i\\). illustrate empirical example. information , see Acharya, Blackwell, Sen (2016).","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/articles/DirectEffects.html","id":"estimation-by-sequential-g-estimation","dir":"Articles","previous_headings":"","what":"Estimation by sequential g-estimation","title":"Estimating controlled direct effects","text":"One way estimate ACDE linear models sequential g-estimation, type structural nested mean model. key logic sequential g-estimation , sequential unconfoundedness assumption, ACDE can identified follows: \\[E[Y_i(, 0) - Y_i(0,0)|X_i = x] = E[Y_i - \\gamma(, M_i, x) | A_i = , x] - E[Y_i - \\gamma(0, M_i, x) | A_i = 0, x]\\] function \\(\\gamma\\) called “demediation function” (“blip-function”) defined follows: \\[\\gamma(, m, x) = E[Y_i(, m) - Y_i(, 0) | X_i = x]\\] function effect switching level mediator 0, thus estimate causal effect mediator fixed value treatment \\(\\) within levels covariates. Subtracting estimates \\(\\gamma(A_i, M_i, X_i)\\) outcome \\(Y_i\\) effectively remove variation due mediator outcome, Acharya, Blackwell, Sen (2016) call “demediation.” identification ACDE hold sequential unconfoundedness condition, using definitions Acharya, Blackwell, Sen (2016). Assumption 1 (Sequential Unconfoundedness) First, omitted variables effect treatment (\\(A_i\\)) outcome (\\(Y_i\\)), conditional pretreatment confounders (\\(X_i\\)). Second, omitted variables effect mediator outcome, conditional treatment, pretreatment confounders, intermediate confounders (\\(Z_i\\)). ACDE estimated nonparametrically just assumption, need make assumption able use sequential g-estimation. Assumption 2 (intermediate interactions) effect mediator (\\(M_i\\)) outcome (\\(Y_i\\)) independent intermediate confounders (\\(Z_i\\)). Without assumption, model multivariate distribution intermediate confounders order estimate ACDE.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/articles/DirectEffects.html","id":"estimating-the-demediation-function","dir":"Articles","previous_headings":"Estimation by sequential g-estimation","what":"Estimating the demediation function","title":"Estimating controlled direct effects","text":"assumption sequential unconcoundedness, demediation function can estimated regression outcome variables demediation function (\\(M_i\\)) plus intermediate confounders (\\(Z_i\\)), treatment (\\(A_i\\)), baseline confounders (\\(X_i\\)). regression model correctly specified, coefficients variables demediation function unbiased parameters demediation function. example, interactions mediator treatment, mediator pretreatment confounders, demediation function straightforward estimate. case, demediation function \\(\\gamma(, m, x) = \\alpha \\times m\\) OLS coefficient mediator estimate \\(\\alpha\\).","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/articles/DirectEffects.html","id":"using-the-demediation-function-to-estimate-acde","dir":"Articles","previous_headings":"Estimation by sequential g-estimation","what":"Using the demediation function to estimate ACDE","title":"Estimating controlled direct effects","text":"second stage sequential g-estimation uses demediated outcome \\[\\tilde{Y}_i = Y_i - \\widehat{\\gamma}(A_i, M_i, X_i; \\widehat{\\alpha}).\\] interactions nonlinearities demediation function, becomes \\(\\tilde{Y}_i = Y_i - \\widehat{\\alpha}M_i\\). demediated outcome hand, can estimate ACDE regressing outcome treatment pre-treatment covariates: \\[E[\\tilde{Y}_i | A_i, X_i] = \\beta_0 + \\beta_1A_i + X_i^T\\beta_2.\\] assumptions assuming regression correctly specified, \\(\\widehat{\\beta}_1\\) unbiased estimate ACDE. sequential_g function demonstrate complete estimation demediation function estimation ACDE. technical details sequential g-estimation, see Acharya, Blackwell, Sen (2016).","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/articles/DirectEffects.html","id":"illustrative-example-of-sequential-g-estimation","dir":"Articles","previous_headings":"","what":"Illustrative example of sequential g-estimation","title":"Estimating controlled direct effects","text":"now work one example using sequential_g estimate ACDE. data comes Alesina, Giuliano, Nunn (2013). dataset comes package: paper’s main argument advent capital-intensive agricultural practice plow favored men women participating agriculture, affected gender inequality modern societies. authors find strong effects plow-based agriculture female labor-force participation, share political positions held women. authors speculate might due (positive) effects plow modern-day income levels, offset direct effects plow. authors control income show significant effect plow appears. evaluate approach try estimate ACDE formally. Thus, case, following variables, \\(\\) indexes countries: \\(Y_i\\) share political positions held women 2000 (women_politics) \\(A_i\\) relative proportion ethnic groups traditionally used plow within country (plow) \\(M_i\\) log GDP per capita 2000, mean-centered (centered_ln_inc) \\(Z_i\\) post-treatment, pre-mediator intermediate confounders (years_civil_conflict, years_interstate_conflict, oil_pc, european_descent, communist_dummy, polity2_2000, serv_va_gdp2000) \\(X_i\\) pre-treatment characteristics country, mostly geographic. (tropical_climate, agricultural_suitability, large_animals, political_hierarchies, economic_complexity, rugged) baseline, first regress \\(Y_i\\) \\(A_i\\) controlling pre-treatment variables \\(X_i\\). Notice effect plow negative insignificant.","code":"data(ploughs) ate.mod <- lm(women_politics ~ plow + agricultural_suitability +                 tropical_climate +  large_animals + political_hierarchies +                 economic_complexity + rugged, data = ploughs) summary(ate.mod) ##  ## Call: ## lm(formula = women_politics ~ plow + agricultural_suitability +  ##     tropical_climate + large_animals + political_hierarchies +  ##     economic_complexity + rugged, data = ploughs) ##  ## Residuals: ##     Min      1Q  Median      3Q     Max  ## -15.060  -5.292  -2.000   3.752  25.923  ##  ## Coefficients: ##                          Estimate Std. Error t value Pr(>|t|)     ## (Intercept)               17.5604     4.9038   3.581 0.000466 *** ## plow                      -2.1032     2.1270  -0.989 0.324422     ## agricultural_suitability   0.9712     2.5761   0.377 0.706721     ## tropical_climate          -7.5137     1.9621  -3.830 0.000191 *** ## large_animals             -8.7104     4.0510  -2.150 0.033201 *   ## political_hierarchies      0.9359     0.9722   0.963 0.337344     ## economic_complexity        1.0284     0.5430   1.894 0.060202 .   ## rugged                    -0.6370     0.4961  -1.284 0.201137     ## --- ## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 ##  ## Residual standard error: 8.372 on 145 degrees of freedom ##   (81 observations deleted due to missingness) ## Multiple R-squared:  0.1831, Adjusted R-squared:  0.1436  ## F-statistic: 4.642 on 7 and 145 DF,  p-value: 0.0001028"},{"path":"https://mattblackwell.github.io/DirectEffects/articles/DirectEffects.html","id":"implementation","dir":"Articles","previous_headings":"Illustrative example of sequential g-estimation","what":"Implementation","title":"Estimating controlled direct effects","text":"example, like estimate controlled direct effect plows fixing value mediator, current national income. , must choose value fix mediator. standard sequential g-estimation approach fix value 0, often substantively interesting value—certainly income logged income. avoid problem, use mean-centered version logged income, centered_ln_inc, demediate \\(m = 0\\), equivalent demediation \\(m\\) set mean logged national income. Furthermore, also use squared term centered mediator, centered_ln_incsq, can include demediation function account nonlinear effects logged income. Next, specify main formula contains left-hand side specifies dependent variable, right-hand side distinguishes baseline variables, intermediate variables, variables demediation function. sets variables left-hand side separated vertical bar |. Thus, formula form yvar ~ treat + xvars | zvars | mvars. . example, specify demediation variables \\(M_i\\) \\(M_i^2\\): sequential_g(), implements sequential g-estimation way outlined previous section. Specifically, runs first stage model, constructs demediator function, passes second-stage model. simplest, takes formula data frame:","code":"form_main <- women_politics ~ plow + agricultural_suitability + tropical_climate +   large_animals + political_hierarchies + economic_complexity + rugged |   years_civil_conflict + years_interstate_conflict  + oil_pc + european_descent +   communist_dummy + polity2_2000 + serv_va_gdp2000 |   centered_ln_inc + centered_ln_incsq direct <- sequential_g(form_main, data = ploughs)"},{"path":"https://mattblackwell.github.io/DirectEffects/articles/DirectEffects.html","id":"output","dir":"Articles","previous_headings":"Illustrative example of sequential g-estimation","what":"Output","title":"Estimating controlled direct effects","text":"usual, can use summary function output sequential_g function: standard errors based asymptotic variance derived Acharya, Blackwell, Sen (2016), also possible use boots_g function compute standard errors simple bootstrap: coefficient treatment variable (, plow), estimate ACDE. results show negative ACDE plows—words, effect plough negative fixed income levels. controlled direct effect larger magnitude estimated total effect:","code":"summary(direct) ##  ## t test of coefficients:  ##  ##                          Estimate Std. Err. t value Pr(>|t|)    ## (Intercept)              12.18450   3.64442  3.3433 0.001121 ** ## plow                     -4.83879   2.34467 -2.0637 0.041312 *  ## agricultural_suitability  4.57388   3.10477  1.4732 0.143458    ## tropical_climate         -2.18919   2.10505 -1.0400 0.300554    ## large_animals            -1.33001   3.40008 -0.3912 0.696401    ## political_hierarchies     0.49575   1.09060  0.4546 0.650283    ## economic_complexity      -0.10521   0.42973 -0.2448 0.807029    ## rugged                   -0.30869   0.47821 -0.6455 0.519888    ## --- ## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 out.boots <- boots_g(direct, boots = 250) summary(out.boots) ##  ## Summary of bootstrapped coefficients:  ##  ##                           Estimate Std. Err.   t value     2.5 %  97.5 % ## (Intercept)               13.03967   4.71055   2.76819   4.66312 23.9332 ## plow                      -5.12705   2.78384  -1.84171 -10.93401 -0.0791 ## agricultural_suitability   4.52477   3.09550   1.46172  -1.73349  9.7554 ## tropical_climate          -2.49692   2.27313  -1.09845  -6.96275  1.8230 ## large_animals             -1.22817   5.00232  -0.24552 -11.92959  7.2430 ## political_hierarchies      0.45004   1.12768   0.39908  -1.50762  2.4844 ## economic_complexity       -0.17763   0.53680  -0.33090  -1.27670  0.8405 ## rugged                    -0.30880   0.50938  -0.60623  -1.29622  0.5855"},{"path":"https://mattblackwell.github.io/DirectEffects/articles/DirectEffects.html","id":"output-attributes","dir":"Articles","previous_headings":"Illustrative example of sequential g-estimation","what":"Output attributes","title":"Estimating controlled direct effects","text":"various quantities output objects available sequential_g function. usual, coefficient estimates second stage can accessed using coef() function: One can access confidence intervals coefficients using usual confint function: vcov() function returns variance covariance-matrix accounts first stage estimation,","code":"coef(direct) ##              (Intercept)                     plow agricultural_suitability  ##               12.1845047               -4.8387928                4.5738843  ##         tropical_climate            large_animals    political_hierarchies  ##               -2.1891894               -1.3300131                0.4957518  ##      economic_complexity                   rugged  ##               -0.1052101               -0.3086924 confint(direct, \"plow\") ##          2.5 %     97.5 % ## plow -9.434262 -0.2433234 vcov(direct)[1:3, 1:3] ##                          (Intercept)       plow agricultural_suitability ## (Intercept)               13.2818030 -0.5383896                0.1744604 ## plow                      -0.5383896  5.4974789                1.2047839 ## agricultural_suitability   0.1744604  1.2047839                9.6395922"},{"path":"https://mattblackwell.github.io/DirectEffects/articles/DirectEffects.html","id":"sensitivity","dir":"Articles","previous_headings":"Illustrative example of sequential g-estimation","what":"Sensitivity","title":"Estimating controlled direct effects","text":"cdesens function can perform sensitivity analysis evaluate estimated ACDE changes various levels post-treatment confounding mediator-outcome relationship. Currently, function supports model one mediator.  black line shows estimated ACDE various levels correlation mediator outcome errors, gray bands show 95% confidence intervals. Note correlation 0, recover estimated effect sequential_g. See Acharya, Blackwell, Sen (2016) information.","code":"# update with only one mediator direct1 <- sequential_g(women_politics ~ plow + agricultural_suitability + tropical_climate +   large_animals + political_hierarchies + economic_complexity + rugged |   years_civil_conflict + years_interstate_conflict  + oil_pc + european_descent +   communist_dummy + polity2_2000 + serv_va_gdp2000 |   centered_ln_inc,   ploughs) out_sens <- cdesens(direct1, var = \"plow\") plot(out_sens)"},{"path":"https://mattblackwell.github.io/DirectEffects/articles/DirectEffects.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Estimating controlled direct effects","text":"Acharya, Avidit, Matthew Blackwell, Maya Sen. 2016. “Explaining Causal Findings Without Bias: Detecting Assessing Direct Effects.” American Political Science Review 110 (3): 512–29. https://doi.org/10.1017/S0003055416000216. Alesina, Alberto, Paola Giuliano, Nathan Nunn. 2013. “Origins Gender Roles: Women Plough.” Quarterly Journal Economics 128 (2): 469–530. https://doi.org/10.1093/qje/qjt005.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/articles/telescope_matching.html","id":"estimation-by-telescope-matching","dir":"Articles","previous_headings":"","what":"Estimation by telescope matching","title":"Telescope matching","text":"Telescope matching provides alternative, less model-dependent approach estimating average controlled direct effect treatment mediator binary. average controlled direct effect interest effect treatment versus control (\\(A_i = 1\\) vs. \\(A_i = 0\\)) holding constant mediator \\(0\\) (\\(M_i = 0\\)). \\[ ACDE = E[Y_i(1, 0) - Y_i(0,0)] \\] Identification still depends crucially sequential unconfoundedness assumption Assumption 1, states unobserved confounders \\(A_i\\) \\(Y_i\\) given pre-treatment covariates \\(X_i\\) unobserved confounders \\(M_i\\) \\(Y_i\\) given treatment \\(A_i\\), pre-treatment covariates \\(X_i\\) post-treatment covariates \\(Z_i\\). can understand process estimating ACDE imputation problem. estimator ACDE, \\(\\hat{\\tau}\\) simply average imputed potential outcomes unit sample. \\[ \\hat{\\tau} = \\frac{1}{N}\\sum_{=1}^N \\left(\\widehat{Y}_i(1,0) - \\widehat{Y}_i(0,0)\\right) \\] obtain imputations \\(\\widehat{Y}_i(1,0)\\) \\(\\widehat{Y}_i(0,0)\\) unit, telescope matching approach proceeds two stages. first step matches unit \\(M_i = 1\\) user-specified number units \\(M_i = 0\\) share treatment status \\(A_i\\) similar pre-treatment covariates \\(X_i\\) post-treatment covariates \\(Z_i\\) measured distance metric (telescope_match implement Mahalanobis distance). Let \\(\\mathcal{J}_L^m()\\) denote set units matched unit \\(\\). define following imputation unit’s potential outcome fixing \\(M_i\\) 0. \\[ \\widehat{Y}_i(A_i, 0) =\\begin{cases} Y_i & \\text{ } M_i = 0 \\\\ \\frac{1}{L} \\sum_{\\ell\\\\mathcal{J}^m_L()} Y_{\\ell} & \\text{ } M_i = 1\\end{cases} \\] second step, match unit number units opposite treatment status similar values pre-treatment covariates \\(X_i\\) Let \\(\\mathcal{J}_L^()\\) denote set units matched unit \\(\\) \\(A_j = 1 - A_i\\) \\(j \\\\mathcal{J}_L^()\\). use first-stage imputations either unit \\(\\) second-stage matches impute potential outcomes unit treatment control fixing mediator \\(0\\). \\[   \\widehat{Y}_{}(,0) = \\begin{cases}     \\widehat{Y}_{}(A_i,0) & \\text{}\\ A_i = \\\\     \\frac{1}{L} \\sum_{j\\\\mathcal{J}^a_L()} \\widehat{Y}_{j}(A_j,0) & \\text{}\\  A_i = 1-\\end{cases} \\] Since matching done replacement, units may used multiple times. define \\(K^m_L() = \\sum_{k=1}^N \\mathbb{}\\{\\\\mathcal{J}^m_L(k)\\}\\) number times unit \\(\\) used match stage \\(K^a_L() = \\sum_{j=1}^N \\mathbb{}\\{\\\\mathcal{J}^a_L(j)\\}\\). Moreover, since units \\(M_i = 0\\) contribute indirectly second stage matches define \\(K^{}_L() = \\sum_{j=1}^N \\mathbb{}\\{\\\\mathcal{J}^m_L(j)\\}K^a_L(j)\\) denote number times unit \\(M_i = 0\\) matched unit \\(M_i = 1\\) implicitly used match second stage. allows us re-write simple matching estimator weighted average \\(\\widehat{\\tau} = N^{-1} \\sum_{=1}^N (2A_i - 1)(1 - M_i)W_iY_i\\) weight defined \\[   W_i =  1 + \\frac{K^a_L()}{L} + \\frac{K^m_L()}{L} + \\frac{K^{}_L()}{L^2} \\] weights can used diagnostic assessing variance estimator whether particular observations extreme influence estimate large weights, resulting large variances. telescope_match function returns constituent matching counts along combined matching “weight” observation use diagnostic plots.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/articles/telescope_matching.html","id":"bias-correction-for-matching","dir":"Articles","previous_headings":"Estimation by telescope matching","what":"Bias correction for matching","title":"Telescope matching","text":"Matching estimators fixed number matches exhibit bias even large samples due differences regression function units matches evaluated respective covariate values Abadie Imbens (2011). bias converges probability \\(0\\) sample size grows, rate convergence slow enough bias terms dominate distribution address , matching estimators treatment effects typically incorporate bias correction adjusts matched values estimated difference regression functions. incorporate similar approach correcting matching bias two-stage procedure. bias simple matching estimator \\(\\hat{\\tau}\\) consists two terms, bias due matching mediator (\\(B_L^m\\)) bias due matching treatment (\\(B_L^\\)) \\[  B^m_L = \\frac{1}{N} \\sum_{=1}^N (2A_i - 1)M_i \\left(1 + \\frac{K^a_L()}{L}\\right)  \\left( \\frac{1}{L} \\sum_{{\\ell} \\J^m_L()} \\mu_{A_i0}(X_{\\ell}, Z_{\\ell}, A_i) - \\mu_{A_i0}(X_i, Z_i, A_i) \\right)  \\] \\[   B^a_L = \\frac{1}{N} \\sum_{=1}^N (2A_i - 1) \\Bigg[\\frac{1}{L} \\sum_{j \\J^a_L()} \\mu_{1-A_i,0}(X_i,1-A_i) - \\mu_{1-A_i,0}(X_j,1-A_i)   \\Bigg] \\] \\(\\mu_{}(x,z,) = E[Y(,m) \\mid X_i = x, Z_i = z, A_i = ]\\) \\(\\mu_{}(x,) = E[Y_i(,m) \\mid X_i= x, A_i = ]\\) denote conditional expectations potential outcomes given two different conditioning sets (without \\(Z\\)). sequential ignorability, \\(\\mu_{}(x,z,) = \\mu(x,z,,m) = E[Y_i \\mid X_i= x, Z_i = z, A_i = , M_i = m]\\). method implemented telescope_match extends bias correction strategy Abadie Imbens (2011) two-stage setting. estimates two conditional expectation functions using regression estimators \\(\\widehat{\\mu}(x, z, , m)\\) \\(\\widehat{\\mu}_{a0}(x, )\\). shown Blackwell Strezhnev (2021), regression estimators consistent true regression functions, estimated bias correction converges true bias. rate convergence fast enough bias can ignored asymptotically.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/articles/telescope_matching.html","id":"inference","dir":"Articles","previous_headings":"Estimation by telescope matching","what":"Inference","title":"Telescope matching","text":"Obtaining valid standard errors matching context difficult matching replacement induces dependencies imputed potential outcomes. provide two approaches estimating standard errors. first implements version Otsu Rai (2017) wild bootstrap matching estimators, extended two-stage setting. second (default) approach estimates components asymptotic variance derived Blackwell Strezhnev (2021).","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/articles/telescope_matching.html","id":"empirical-illustration-of-telescope-matching","dir":"Articles","previous_headings":"","what":"Empirical illustration of telescope matching","title":"Telescope matching","text":"section, illustrate implementation telescope matching estimator applied Job Corps experiment data used Huber (2014) estimate effect randomized job training program self-assessed health holding constant intermediate outcome employment. data supplied along package. \\(Y_i\\) indicator whether participants reported “good” health 2.5 years randomization (exhealth30) \\(A_i\\) indicator assignment job training program (treat) \\(M_i\\) indicator employment 1 1.5 years assignment (work2year2q) \\(Z_i\\) post-treatment, pre-mediator intermediate confounders (emplq4, emplq4full) \\(X_i\\) pre-treatment characteristics (chobef, trainyrbef, jobeverbef) original Huber (2014) paper looks separate controlled effects female male participants. start subsetting dataset female participants define two formula objects used matching, first including pre- post-treatment covariates \\(X_i\\) \\(Z_i\\) along treatment-covariate interactions. second includes pre-treatment covariates treatment-covariate interactions. , include subset covariates used Huber (2014) analysis. telescope_match() function can handle additional mediators intermediate covariates simply adding end formula manner two groups. pass formula function : summary() function print output (estimate standard errors) console possible controlled direct effects. function also provides summaries matching output. elements output can accessed directly returned tmatch object. Additional diagnostics can conducted calling balance.tmatch() function returned tmatch object assess change pre-/post-matching covariate balance first second stages. Calling plotDiag.tmatch() function return histogram number times unit used match (\\(K/L\\)) either first (mediator) stage second (treatment) stage.","code":"data(jobcorps) jobcorps_female <- subset(jobcorps, female == 1) ## Telescope matching formula - First stage (X and Z) tm_form <- exhealth30 ~ schobef + trainyrbef + jobeverbef  | treat |   emplq4 + emplq4full | work2year2q ### Estimate ACDE for women holding employment at 0 tm_out <-  telescope_match(tm_form, data = jobcorps_female, L = 3) ## Beginning matching... ## Matching work2year2q... ## Matching treat... ## Beginning bias correction... # Prints the summary output summary(tm_out) ## Telescope matching results ## ---------------------------- ##  ## Call: ## telescope_match(formula = tm_form, data = jobcorps_female, L = 3) ##  ## Active treatment:  treat  ## Controlled treatment(s): work2year2q  ##  ## Matching summary: ##          Term Matching Ratio L:1 N == 1 N == 0 Matched == 1 Matched == 0 ## 1       treat                  3   2801   1551         2291         1544 ## 2 work2year2q                  3   2559   1793         1358         1522 ##  ##  ## Summary of units matching contributions: ##                   Min.   1st Qu.    Median Mean  3rd Qu.       Max. ## treat                0 0.3333333 0.6666667    1 1.333333   4.666667 ## treat:work2year2q    0 0.0000000 0.3333333    1 1.000000 117.222222 ## work2year2q          0 0.0000000 0.3333333    1 1.333333  75.000000 ##  ##  ## Estimated controlled direct effects of treat: ##                   work2year2q Estimate Estimate (no BC) Std. Err. ## (1, 0) vs. (0, 0)           0 -0.09609         -0.08665   0.05321 ## (1, 1) vs. (0, 1)           1  0.03850          0.03848   0.02213 # The coefficients + SE can be accessed directly as well tm_out$tau # Point estimate ## [1] -0.09609438  0.03850302 tm_out$tau_se #Standard error ## [1] 0.05320912 0.02213413 ## Assess mediator balance on selected pre- and post- treatment covariates balance.tmatch(tm_out, vars = work2year2q ~ schobef + emplq4,                data = jobcorps_female) ##         variable  before_0  before_1   after_0   after_1 before_sd  before_diff ## schobef  schobef 0.6352482 0.6287612 0.7049632 0.6314338 0.4824714 -0.006486953 ## emplq4    emplq4 0.1996654 0.7198124 0.4775582 0.5058977 0.5000270  0.520147061 ##         before_std_diff  after_diff after_std_diff ## schobef     -0.01344526 -0.07352941    -0.15240160 ## emplq4       1.04023787  0.02833946     0.05667586 ## Assess treatment balance on selected pre-treatment covariates balance.tmatch(tm_out, vars = treat ~ trainyrbef + hhsize,                data = jobcorps_female) ##              variable   before_0   before_1    after_0    after_1 before_sd ## trainyrbef trainyrbef 0.01676338 0.01713674 0.01700368 0.01700368 0.1292996 ## hhsize         hhsize 4.54094133 4.53802213 4.53776042 4.54618566 2.2087850 ##              before_diff before_std_diff  after_diff after_std_diff ## trainyrbef  0.0003733584     0.002887544 0.000000000    0.000000000 ## hhsize     -0.0029191932    -0.001321629 0.008425245    0.003814425 # Number of times each unit is used as a match in the mediator (first) stage plotDiag.tmatch(tm_out, stage = \"work2year2q\") # Number of times each unit is used as a match in the treatment (second) stage plotDiag.tmatch(tm_out, stage = \"treat\")"},{"path":"https://mattblackwell.github.io/DirectEffects/articles/telescope_matching.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Telescope matching","text":"Abadie, Alberto, Guido W Imbens. 2011. “Bias-Corrected Matching Estimators Average Treatment Effects.” Journal Business & Economic Statistics 29 (1): 1–11. Blackwell, Matthew, Anton Strezhnev. 2021. “Telescope Matching Reducing Model Dependence Estimation Effects Time-Varying Treatments: Application Negative Advertising.” Journal Royal Statistical Society (Series ). Huber, Martin. 2014. “Identifying Causal Mechanisms (Primarily) Based Inverse Probability Weighting.” Journal Applied Econometrics 29 (6): 920–43. Otsu, Taisuke, Yoshiyasu Rai. 2017. “Bootstrap Inference Matching Estimators Average Treatment Effects.” Journal American Statistical Association 112 (520): 1720–32.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Matthew Blackwell. Author, maintainer. Avidit Acharya. Author. Maya Sen. Author. Shiro Kuriwaki. Author. Jacob Brown. Author. Anton Strezhnev. Author.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Blackwell M, Acharya , Sen M, Kuriwaki S, Brown J, Strezhnev (2021). DirectEffects: Estimating Controlled Direct Effects Explaining Causal Findings. R package version 0.2.9000, https://www.mattblackwell.org/software/direct-effects/.","code":"@Manual{,   title = {DirectEffects: Estimating Controlled Direct Effects for Explaining Causal Findings},   author = {Matthew Blackwell and Avidit Acharya and Maya Sen and Shiro Kuriwaki and Jacob Brown and Anton Strezhnev},   year = {2021},   note = {R package version 0.2.9000},   url = {https://www.mattblackwell.org/software/direct-effects/}, }"},{"path":"https://mattblackwell.github.io/DirectEffects/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Estimating Controlled Direct Effects for Explaining Causal Findings","text":"DirectEffects R package estimate controlled direct effects (CDEs). now, package supports sequential g-estimation two-stage matching approach called telescope matching. information CDEs can useful applied research brief introduction sequential g-estimation, see Acharya, Blackwell, Sen (2016). telescope matching procedure, see Blackwell Strezhnev (2022).","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Estimating Controlled Direct Effects for Explaining Causal Findings","text":"can install DirectEffects via CRAN current stable version via GitHub development version.","code":"# Installing from CRAN install.packages(\"DirectEffects\")  # Installing development version from Github: # install.packages(\"devtools\") devtools::install_github(\"mattblackwell/DirectEffects\", build_vignettes = TRUE)"},{"path":"https://mattblackwell.github.io/DirectEffects/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Estimating Controlled Direct Effects for Explaining Causal Findings","text":"main functions estimating CDEs DirectEffects : sequential_g(): estimate controlled direct effects using two-stage linear models. telescope_match(): estimated controlled direct effects using two-stage matching procedure bias correction. DirectEffects also provides diagnostics two approaches, including sensitivity analyses balance checks.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/balance.tmatch.html","id":null,"dir":"Reference","previous_headings":"","what":"Balance diagnostics for Telescope Match objects — balance.tmatch","title":"Balance diagnostics for Telescope Match objects — balance.tmatch","text":"Balance diagnostics Telescope Match objects","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/balance.tmatch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Balance diagnostics for Telescope Match objects — balance.tmatch","text":"","code":"balance.tmatch(object, vars, data, comparison = NULL)"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/balance.tmatch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Balance diagnostics for Telescope Match objects — balance.tmatch","text":"object object class tmatch -- results call telescope_match vars formula object containing either treatment mediator dependent variable (denotes whether first-stage second-stage balance diagnostics returned) covariates balance diagnostics requested independent variables. covariate function covariates (e.g. higher-order polynomials interactions) separated +. data data frame used call telescope_match comparison binary indicator function return balance treated group (`1`), control group (`0`), overall combined balanced (`NULL`, default).","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/balance.tmatch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Balance diagnostics for Telescope Match objects — balance.tmatch","text":"Returns data frame following columns. variable: Name covariate before_0: Pre-matching average covariate mediator == 0 (first stage balance) treatment == 0 (second stage balance) condition before_1: Pre-matching average covariate mediator == 1 (first stage balance) treatment == 1 (second stage balance) condition after_0: Post-matching average covariate mediator == 0 (first stage balance) treatment == 0 (second stage balance) condition after_1: Post-matching average covariate mediator == 1 (first stage balance) treatment == 1 (second stage balance) condition before_sd: standard deviation outcome (pre-Matching) before_diff: Pre-matching covariate difference mediator arms (first stage balance) treatment arms (second stage balance). before_std_diff: Pre-matching standardized covariate difference mediator arms (first stage balance) treatment arms (second stage balance), Equal Before_Diff/SD. after_diff: Post--matching covariate difference mediator arms (first stage balance) treatment arms (second stage balance). after_std_diff: Post-matching standardized covariate difference mediator arms (first stage balance) treatment arms (second stage balance), Equal Before_Diff/SD.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/balance.tmatch.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Balance diagnostics for Telescope Match objects — balance.tmatch","text":"Provides matching balance diagnostics tmatch objects returned telescope_match","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/boots_g.html","id":null,"dir":"Reference","previous_headings":"","what":"Coefficient Estimates across Bootstrapped Samples — boots_g","title":"Coefficient Estimates across Bootstrapped Samples — boots_g","text":"Performs simple bootstrap fitted DirectEffects model re-estimating model bootstrap samples.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/boots_g.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coefficient Estimates across Bootstrapped Samples — boots_g","text":"","code":"boots_g(seqg, boots = 1000)"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/boots_g.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coefficient Estimates across Bootstrapped Samples — boots_g","text":"seqg fitted sequential_g estimate, computed sequential_g. boots number bootstrap replicates. Defaults 1000.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/boots_g.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Coefficient Estimates across Bootstrapped Samples — boots_g","text":"object type seqgboots matrix bootsrows columns coefficient seqg model. Use summaryto provide summary statistics, mean quantiles.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/boots_g.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Coefficient Estimates across Bootstrapped Samples — boots_g","text":"","code":"# \\donttest{ data(ploughs) form <- women_politics ~ plow +  agricultural_suitability + tropical_climate + large_animals + rugged |  years_civil_conflict + years_interstate_conflict  + oil_pc +  european_descent + communist_dummy + polity2_2000 |  centered_ln_inc + centered_ln_incsq s1 <- sequential_g(form, ploughs)  out.boots <- boots_g(s1)  summary(out.boots) #>  #> Summary of bootstrapped coefficients:  #>  #>                          Estimate Std. Err.  t value    2.5 %  97.5 % #> (Intercept)              13.38650   4.40065  3.04194  5.22590 21.9826 #> plow                     -4.45139   1.83762 -2.42237 -8.22370 -0.9710 #> agricultural_suitability  4.38889   2.59756  1.68962 -0.73344  9.3080 #> tropical_climate         -2.90043   2.27790 -1.27329 -7.47657  1.5388 #> large_animals            -0.92590   3.85512 -0.24017 -8.70991  6.0758 #> rugged                   -0.34969   0.49578 -0.70534 -1.37576  0.6018 #>  # }"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/boots_tm.html","id":null,"dir":"Reference","previous_headings":"","what":"Bootstrap Uncertainty Estimats for Telescope Matching — boots_tm","title":"Bootstrap Uncertainty Estimats for Telescope Matching — boots_tm","text":"Performs weighted bootstrap procedure output telescope_match.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/boots_tm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bootstrap Uncertainty Estimats for Telescope Matching — boots_tm","text":"","code":"boots_tm(obj, boots = 1000, ci_alpha = 0.05)"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/boots_tm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bootstrap Uncertainty Estimats for Telescope Matching — boots_tm","text":"obj tmatch object, computed telescope_match. boots number bootstrap replicates. Defaults 1000. ci_alpha alpha value bootstrapped confidence intervals. Corresponds 100 * (1-alpha) confidence interval.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/boots_tm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bootstrap Uncertainty Estimats for Telescope Matching — boots_tm","text":"data.frame columns `ci_low` `ci_high` contain bootstrapped confidence intervals estimated ACDEs obj$tau.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/boots_tm.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Bootstrap Uncertainty Estimats for Telescope Matching — boots_tm","text":"","code":"# \\donttest{ data(jobcorps)  ## Split male/female jobcorps_female <- subset(jobcorps, female == 1)  ## Telescope matching formula - First stage (X and Z) tm_form <- exhealth30 ~  schobef + trainyrbef + jobeverbef  | treat | emplq4 + emplq4full | work2year2q   ### Estimate ACDE for women holding employment at 0 tm_out <-  telescope_match(   tm_form,   data = jobcorps_female,   L = 3,   boot = FALSE,   verbose = TRUE ) #> Beginning matching... #> Matching work2year2q... #> Matching treat... #> Beginning bias correction...  out.boots <- boots_tm(tm_out)  out.boots #>         ci_low     ci_high #> 1 -0.196650378 0.009551949 #> 2 -0.007941822 0.081759619 # }"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/cdesens.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate sensitivity of ACDE estimates under varying levels of unobserved confounding — cdesens","title":"Estimate sensitivity of ACDE estimates under varying levels of unobserved confounding — cdesens","text":"Estimate Average Controlled Direct Effect varies various levels unobserved confounding. value unmeasured confounding, summarized correlation residuals, cdesens computes ACDE. Standard errors computed simple bootstrap.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/cdesens.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate sensitivity of ACDE estimates under varying levels of unobserved confounding — cdesens","text":"","code":"cdesens(   seqg,   var,   rho = seq(-0.9, 0.9, by = 0.05),   bootstrap = c(\"none\", \"standard\"),   boots_n = 1000,   verbose = FALSE,   ... )"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/cdesens.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate sensitivity of ACDE estimates under varying levels of unobserved confounding — cdesens","text":"seqg Output sequential_g. function supports specifications one mediator variable. var character indicating name variable estimated ACDE evaluated. rho numerical vector correlations errors test . original model assumes rho = 0 bootstrap character c(\"none\", \"standard\"), indicating whether include bootstrap standard errors. Default \"none\". boots_n Number bootstrap replicates, defaults 100. verbose Whether show progress messages, defaults FALSE ... parameters pass lm.fit() refitting model","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/cdesens.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate sensitivity of ACDE estimates under varying levels of unobserved confounding — cdesens","text":"","code":"data(civilwar)   # main formula: Y ~ A + X | Z | M form_main <- onset ~ ethfrac + lmtnest + ncontig + Oil | warl +   gdpenl + lpop + polity2l + relfrac | instab  # estimate CDE direct <- sequential_g(form_main, data = civilwar)  # sensitivity out_sens <- cdesens(direct, var = \"ethfrac\")  # plot sensitivity plot(out_sens)"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/civilwar.html","id":null,"dir":"Reference","previous_headings":"","what":"Data on civil wars and internal conflict from 1945-1999. — civilwar","title":"Data on civil wars and internal conflict from 1945-1999. — civilwar","text":"dataset replicate analysis Fearon Laitin (2003).","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/civilwar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data on civil wars and internal conflict from 1945-1999. — civilwar","text":"","code":"data(civilwar)"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/civilwar.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Data on civil wars and internal conflict from 1945-1999. — civilwar","text":"data frame 6610 observations 69 variables.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/civilwar.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Data on civil wars and internal conflict from 1945-1999. — civilwar","text":"doi: 10.1017/S0003055403000534","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/civilwar.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Data on civil wars and internal conflict from 1945-1999. — civilwar","text":"ccode. COW country id number country. country name cname. abbreviated country name cmark. 1 first country series year. start year war/conflict wars. number wars progress country year war. 1 war ongoing country year warl. lagged war, w/ 0 start country series onset. 1 civil war onset ethonset. 1 onset = 1 & ethwar ~= 0 durest. estimated war duration aim. 1 = rebels aim center, 3 = aim exit autonomy, 2 = mixed ambig. casename. Id case, usually name rebel group(s) ended. war ends = 1, 0 = ongoing ethwar. 0 = ethnic, 1 = ambig/mixed, 2 = ethnic waryrs. war years onset pop. population, 1000s lpop. log pop polity2. revised polity score gdpen. gdp/pop based pwt5.6, wdi2001,cow energy data gdptype. source/type gdp/pop estimate gdpenl. lagged gdpenl, except first country series lgdpenl1. log lagged gdpen lpopl1. log population, lagged except first country series region. country's region, based MAR project western. Dummy Western Democracies & Japan eeurop. Dummy Eastern Europe lamerica. Dummy Latin America ssafrica. Dummy Sub-Saharan Africa asia. Dummy Asia (including Japan) nafrme. Dummy North Africa/Middle East colbrit. Former British colony colfra. former French colony mtnest. Estimated percent mountainous terrain lmtnest. log mtnest elevdiff. high - low elevation, meters Oil. 1/3 export revenues fuels ncontig. noncontiguous state ethfrac. ethnic frac. based Soviet Atlas, plus estimates missing 1964 ef. ethnic fractionalization based Fearon 2002 APSA paper plural. share largest ethnic group (Fearon 2002 APSA) second. share 2nd largest ethnic group (Fearon 2002 APSA) numlang. number languages Ethnologue > min(1 relfrac. religious fractionalization plurrel. size largest confession minrelpc. size second largest confession muslim. percent muslim nwstate. 1 1st 2 years state's existence polity2l. lagged polity2, except 1st country series instab. > 2 change Polity measure last 3 yrs anocl. lagged anocracy (-6 < polity2l < 6) deml. lagged democracy (polity2l > 5) empethfrac. ethfrac coded colonial empires empwarl. warl coded data empires emponset. onset coded data empires empgdpenl. gdpenl coded empires data emplpopl. lpopl coded empires data emplmtnest. lmtnest coded empires data empncontig. ncontig coded empires empolity2l. polity2l adjusted empires (see fn38 paper) sdwars. number Sambanis/Doyle civ wars progress sdonset. onset Sambanis/Doyle war colwars. number Collier/Hoeffler wars progress colonset. onset Collier/Hoeffler war cowwars. number COW civ wars progress cowonset. onset COW civ war cowwarl. 1 COW war ongoing last period sdwarl. 1 S/D war ongoing last period colwarl. 1 C/H war ongoing last period","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/civilwar.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Data on civil wars and internal conflict from 1945-1999. — civilwar","text":"Fearon, James D., David . Laitin (2003). Ethnicity, Insurgency, Civil War. American Political Science Review, 97(1), 75-90. doi: 10.1017/S0003055403000534","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/jobcorps.html","id":null,"dir":"Reference","previous_headings":"","what":"Data on health and employment outcomes measured as part of the\nU.S. Job Corps employment training experiment. — jobcorps","title":"Data on health and employment outcomes measured as part of the\nU.S. Job Corps employment training experiment. — jobcorps","text":"dataset replicate analysis Huber (2014).","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/jobcorps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data on health and employment outcomes measured as part of the\nU.S. Job Corps employment training experiment. — jobcorps","text":"","code":"data(jobcorps)"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/jobcorps.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Data on health and employment outcomes measured as part of the\nU.S. Job Corps employment training experiment. — jobcorps","text":"data frame 10025 observations 62 variables.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/jobcorps.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Data on health and employment outcomes measured as part of the\nU.S. Job Corps employment training experiment. — jobcorps","text":"doi: 10.1002/jae.2341","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/jobcorps.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Data on health and employment outcomes measured as part of the\nU.S. Job Corps employment training experiment. — jobcorps","text":"treat. 1 = program group. 0 = control group. schobef. \"school 1yr eligibility\" trainyrbef. \"training year Job Corps\" jobeverbef. \"ever job Job Corps\" jobyrbef. \"job year job corps\" health012.  \"good good health assignment\" health0mis.  \"general health assignment missing\" pe_prb0.  \"physical/emotional problems assignment\" pe_prb0mis. \"missing - physical/emotional problems assignment\" everalc. \"ever abused alcohol assignment\" alc12. \"alcohol abuse one yr assignment\" everilldrugs. \"ever took illegal drugs assignment\" age_cat. \"age application years 16-24\" edumis. \"education missing\" eduhigh. \"higher education\" rwhite. \"white\" everarr. \"ever arrested Job Corps\" hhsize. \"household size assignment\" hhsizemis. \"household size assignment missing\" hhinc12. \"low household income assignment\" hhinc8. \"high household income assignment\" fdstamp. \"received foodstamps yr assignment\" welf1. \"welfare growing \" welf2.  \"twice welfare growing \" publicass. \"public assistance yr assignment\" emplq. \"worked time 9-12 months assignment\" emplq4full. \"worked time 9-12 months assignment\" pemplq4. \"proportion weeks worked 9-12 months assignment\" pemplq4mis. \"missing - proportion weeks worked 9-12 months assignment\" vocq4.  \"vocational training 9-12 months assignment\" vocq4mis. \"missing - vocational training 9-12 months assignment\" health1212. \"good good health 1 yr assignment\" health123. \"fair health 1 yr assignment\" pe_prb12. \"1=phys/emot probs 12 mths 0=prob\" pe_prb12mis. \"missing - physical/emotional problems 1 yr assignment\" narry1. \"number arrests year 1\" numkidhhf1zero.  \"kids living household 1 yr assignment\" numkidhhf1onetwo. \"one two kids living household 1 yr assignment\" pubhse12.  \"1=public housing 1 yr assignment, 0=\" h_ins12a. \"afdc transfers one yr assignment\" h_ins12amis.  \"missing - afdc transfers one yr assignment\" ... variables annotated source.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/jobcorps.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Data on health and employment outcomes measured as part of the\nU.S. Job Corps employment training experiment. — jobcorps","text":"Huber, M. (2014). Identifying causal mechanisms  (primarily) based inverse probability weighting. Journal  Applied Econometrics, 29(6), 920-943. doi: 10.1002/jae.2341","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/plot.cdesens.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot output from cdesens — plot.cdesens","title":"Plot output from cdesens — plot.cdesens","text":"Plot output cdesens","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/plot.cdesens.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot output from cdesens — plot.cdesens","text":"","code":"# S3 method for cdesens plot(   x,   level = 0.95,   xlim = NULL,   ylim = NULL,   xlab = NULL,   ylab = \"Estimated ACDE\",   bty = \"n\",   col = \"black\",   lwd = 2,   ci.col = \"grey70\",   ref.lines = TRUE,   ... )"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/plot.cdesens.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot output from cdesens — plot.cdesens","text":"x output cdesens level level confidence interval plot xlim x limits (x1, x2) plot sensitivity analysis parameter, rho. Default use range rho. ylim y limits plot estimated CDEs. Default show confidence intervals. xlab label x axis. ylab label y axis. bty character string determined type box drawn plots. Defaults drawing box. See par information. col color line indicating point estimates bias-adjusted ACDE. lwd line width line indicating point estimates bias-adjusted ACDE. ci.col color polygon shows confidence intervals. ref.lines logical indicating whether horizontal vertical lines 0 plotted. ... parameters pass plot()","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/plotDiag.tmatch.html","id":null,"dir":"Reference","previous_headings":"","what":"Histograms of matching weights — plotDiag.tmatch","title":"Histograms of matching weights — plotDiag.tmatch","text":"Histograms matching weights","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/plotDiag.tmatch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Histograms of matching weights — plotDiag.tmatch","text":"","code":"plotDiag.tmatch(object, stage)"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/plotDiag.tmatch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Histograms of matching weights — plotDiag.tmatch","text":"object object class tmatch -- results call  telescope_match stage character vector equal name one treatment `object`.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/plotDiag.tmatch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Histograms of matching weights — plotDiag.tmatch","text":"Outputs `plot()` object containing histogram match counts","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/plotDiag.tmatch.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Histograms of matching weights — plotDiag.tmatch","text":"Provides histograms number times unit used match given  tmatch object returned telescope_match","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/ploughs.html","id":null,"dir":"Reference","previous_headings":"","what":"Data on historical plough use and the socioeconomic status of\nwomen. — ploughs","title":"Data on historical plough use and the socioeconomic status of\nwomen. — ploughs","text":"dataset replicate analysis Alesina, Giuliano, Nunn (2013).","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/ploughs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data on historical plough use and the socioeconomic status of\nwomen. — ploughs","text":"","code":"data(ploughs)"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/ploughs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Data on historical plough use and the socioeconomic status of\nwomen. — ploughs","text":"data frame 234 observations 57 variables.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/ploughs.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Data on historical plough use and the socioeconomic status of\nwomen. — ploughs","text":"doi: 10.1093/qje/qjt005","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/ploughs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Data on historical plough use and the socioeconomic status of\nwomen. — ploughs","text":"isocode. 3-letter code country. flfp2000. Female labor force participation 2000 female_ownership. Percent firms female ownership (  latest survey year) women_politics. Women Politics 2000, WDI plow. Animal plow cultivation variable (v39): Using   Ethnologue - pop weighted agricultural_suitability. overall (millets, sorghum, wheat,   barley, rye): share defined suitable tropical_climate. Frac land: tropics subtropics: using   Ethnologue - pop weighted large_animals. presence large animals political_hierarchies. Jurisdictional hierarchy beyond local   community (v33): Using Ethnologue - pop weighted economic_complexity. Settlement patterns (v30) ln_income. ln (income) ln_income_squared. ln (income) ^2 centered_ln_inc. de-meaned ln_inc centered_ln_incsq. de-meaned ln_inc squared country. country name communist_dummy. Communism indicator variable rugged. Ruggedness (Terrain Ruggedness Index, 100 m.) years_interstate_conflict. Years interstate conflict, 1800-2007 - COW serv_va_gdp2000. Value Added Service/GDP 2000 polity2_2000. Polity 2 measure taken Polity IV dataset oil_pc. oil production/GDP ... variables annotated source.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/ploughs.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Data on historical plough use and the socioeconomic status of\nwomen. — ploughs","text":"Alesina, ., Giuliano, P., & Nunn, N. (2013). Origins Gender Roles: Women Plough. Quarterly Journal Economics, 128(2), 469-530. doi: 10.1093/qje/qjt005","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/seq.g.vcov.html","id":null,"dir":"Reference","previous_headings":"","what":"Consistent Variance estimator — seq.g.vcov","title":"Consistent Variance estimator — seq.g.vcov","text":"Called internally sequential_g","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/seq.g.vcov.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Consistent Variance estimator — seq.g.vcov","text":"","code":"# S3 method for g.vcov seq(first_mod, direct_mod, X1, X2, med.vars)"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/seq.g.vcov.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Consistent Variance estimator — seq.g.vcov","text":"first_mod first stage model direct_mod DirectEffects model terms X1 model matrix first stage model X2 model matrix DirectEffects model med.vars vector term.label attributes mediators","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/sequential_g.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform linear sequential g-estimation to estimate the controlled\ndirect effect of a treatment net the effect of a mediator. — sequential_g","title":"Perform linear sequential g-estimation to estimate the controlled\ndirect effect of a treatment net the effect of a mediator. — sequential_g","text":"Perform linear sequential g-estimation estimate controlled direct effect treatment net effect mediator.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/sequential_g.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform linear sequential g-estimation to estimate the controlled\ndirect effect of a treatment net the effect of a mediator. — sequential_g","text":"","code":"sequential_g(   formula,   data,   subset,   weights,   na.action,   offset,   contrasts = NULL,   verbose = TRUE,   ... )"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/sequential_g.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform linear sequential g-estimation to estimate the controlled\ndirect effect of a treatment net the effect of a mediator. — sequential_g","text":"formula formula specification first-stage, second-stage, blip-models. right-hand side formula three components separated |, first component specifying first-stage model treatment baseline covariates, second component specifying intermediate covariates first-stage, third component specifying blip-model. See Details information. data dataframe apply formula . subset vector logicals indicating rows data keep. weights optional vector weights used fitting     process.  NULL numeric vector.     non-NULL, weighted least squares used weights     weights (, minimizing sum(w*e^2)); otherwise     ordinary least squares used.  See also ‘Details’, na.action function indicates happen     data contain NAs.  default set     na.action setting options,     na.fail unset.  ‘factory-fresh’     default na.omit.  Another possible value     NULL, action.  Value na.exclude can useful. offset can used specify priori known     component included linear predictor fitting.     NULL numeric vector matrix extents     matching response.  One offset terms can     included formula instead well, one     specified sum used.  See model.offset. contrasts optional list. See contrasts.arg     model.matrix.default. verbose logical indicating whether suppress progress bar. Default FALSE. ... additional arguments passed low level     regression fitting functions (see ).","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/sequential_g.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform linear sequential g-estimation to estimate the controlled\ndirect effect of a treatment net the effect of a mediator. — sequential_g","text":"Returns object class \"seqg\". Similar output call lm. Contains following components: coefficients: vector named coefficients direct effects model. residuals: residuals, blipped-outcome minus fitted values. rank: numeric rank fitted linear direct effects model. fitted.values: fitted mean values direct effects model. weights: (weighted fits) specified weights. df.residual: residual degrees freedom direct effects model. aliased: logical vector indicating terms   dropped aliased due perfect collinearity. terms: list terms object used. One   baseline covariates treatment (X) one   variables blip-model (M). formula: formula object used, possibly modified drop constant blip-model. call: matched call. na.action: (relevant) information returned   model.frame special handling NAs. xlevels: levels factor variables. contrasts:  contrasts used factor variables. first_mod: output first-stage regression model. model: full model frame, including variables. Ytilde: blipped-response vector. X: model matrix second stage. M: model matrix demediation/blip-function. addition, non-null fits components assign, effects, qr output lm.fit lm.wfit, whichever used.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/sequential_g.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Perform linear sequential g-estimation to estimate the controlled\ndirect effect of a treatment net the effect of a mediator. — sequential_g","text":"sequential_g function implements linear sequential g-estimator developed Vansteelandt (2009) consistent variance estimator developed Acharya, Blackwell, Sen (2016). formula specifies specifies full first-stage model   including treatment, baseline confounders, intermediate   confounders, mediators. user places | bars   separate different components model.   example, formula form y ~ tr + x1 + x2   | z1 + z2 | m1 + m2. tr name   treatment variable, x1 x2 baseline   covariates, z1 z2 intermediate covariates,   m1 m2 names mediator   variables. last set variables specify 'blip-'   'demediation' function used remove average effect   mediator (possibly interacted) outcome create   blipped-outcome. blipped-outcome passed   standard linear model covariates specified   direct effects model. See references details.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/sequential_g.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Perform linear sequential g-estimation to estimate the controlled\ndirect effect of a treatment net the effect of a mediator. — sequential_g","text":"Vansteelandt, S. (2009). Estimating Direct Effects Cohort Case-Control Studies. Epidemiology, 20(6), 851-860. Acharya, Avidit, Blackwell, Matthew, Sen, Maya. (2016) \"Explaining Causal Effects Without Bias: Detecting Assessing Direct Effects.\" American Political Science Review 110:3 pp.   512-529","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/sequential_g.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Perform linear sequential g-estimation to estimate the controlled\ndirect effect of a treatment net the effect of a mediator. — sequential_g","text":"","code":"data(ploughs)  form_main <- women_politics ~ plow +   agricultural_suitability + tropical_climate + large_animals +   political_hierarchies + economic_complexity +   rugged | years_civil_conflict +   years_interstate_conflict  + oil_pc +   european_descent + communist_dummy + polity2_2000 +   serv_va_gdp2000 | centered_ln_inc + centered_ln_incsq  direct <- sequential_g(form_main, ploughs)  summary(direct) #>  #> t test of coefficients:  #>  #>                          Estimate Std. Err. t value Pr(>|t|)    #> (Intercept)              12.18450   3.64442  3.3433 0.001121 ** #> plow                     -4.83879   2.34467 -2.0637 0.041312 *  #> agricultural_suitability  4.57388   3.10477  1.4732 0.143458    #> tropical_climate         -2.18919   2.10505 -1.0400 0.300554    #> large_animals            -1.33001   3.40008 -0.3912 0.696401    #> political_hierarchies     0.49575   1.09060  0.4546 0.650283    #> economic_complexity      -0.10521   0.42973 -0.2448 0.807029    #> rugged                   -0.30869   0.47821 -0.6455 0.519888    #> --- #> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1 #>"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/summary.seqg.html","id":null,"dir":"Reference","previous_headings":"","what":"Computes standard errors and p-values of DirectEffects estimates — summary.seqg","title":"Computes standard errors and p-values of DirectEffects estimates — summary.seqg","text":"Computes standard errors p-values DirectEffects estimates","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/summary.seqg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Computes standard errors and p-values of DirectEffects estimates — summary.seqg","text":"","code":"# S3 method for seqg summary(object, ...)"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/summary.seqg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Computes standard errors and p-values of DirectEffects estimates — summary.seqg","text":"object object class seqg, computed sequential_g. ... additional arguments affecting summary produced.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/summary.seqgboots.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary of DirectEffect Bootstrap Estimates — summary.seqgboots","title":"Summary of DirectEffect Bootstrap Estimates — summary.seqgboots","text":"Summary DirectEffect Bootstrap Estimates","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/summary.seqgboots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary of DirectEffect Bootstrap Estimates — summary.seqgboots","text":"","code":"# S3 method for seqgboots summary(object, level = 0.95, ...)"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/summary.seqgboots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary of DirectEffect Bootstrap Estimates — summary.seqgboots","text":"object output class seqg estimated boots_g. level level intervals estimate. Defaults 0.95 ... additional arguments affecting summary produced.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/summary.tmatch.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize telescope match objects — summary.tmatch","title":"Summarize telescope match objects — summary.tmatch","text":"Summarize telescope match objects","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/summary.tmatch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize telescope match objects — summary.tmatch","text":"","code":"# S3 method for tmatch summary(object, ...)"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/summary.tmatch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize telescope match objects — summary.tmatch","text":"object object class tmatch -- results call telescope_match ... additional arguments affecting summary produced.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/summary.tmatch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize telescope match objects — summary.tmatch","text":"Returns object classsummary.tmatch. Contains following components call: matched call. m_summary: data.frame summarizes matching     ratios ({ratio}), number units n_1, n_0,     number matched units (matched_1, matched_0)     treatment/mediator (term). K: K data frame object     telescope matching output. L: L vector object     telescope matching output. a_names: character vector names     treatment/mediator variables used matching. estimates: matrix estimated ACDEs     without bias correction estimated standard errors.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/summary.tmatch.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Summarize telescope match objects — summary.tmatch","text":"summary method tmatch objects returned telescope_match Returns summary data frame containing estimate standard errors `telescope_match` object.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/telescope_match.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform telescope matching to estimate the controlled\ndirect effect of a binary treatment net the effect of binary\nmediators — telescope_match","title":"Perform telescope matching to estimate the controlled\ndirect effect of a binary treatment net the effect of binary\nmediators — telescope_match","text":"Perform telescope matching estimate controlled direct effect binary treatment net effect binary mediators","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/telescope_match.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform telescope matching to estimate the controlled\ndirect effect of a binary treatment net the effect of binary\nmediators — telescope_match","text":"","code":"telescope_match(   formula,   data,   caliper = NULL,   L = 5,   verbose = TRUE,   subset,   contrasts = NULL,   separate_bc = TRUE,   ... )"},{"path":"https://mattblackwell.github.io/DirectEffects/reference/telescope_match.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform telescope matching to estimate the controlled\ndirect effect of a binary treatment net the effect of binary\nmediators — telescope_match","text":"formula formula object specifies covariates treatment variables (mediators) causal ordering oldest newest group separated |. See   details. data dataframe containing variables referenced formula. caliper scalar denoting caliper used matching treatment stage (calipers used matching mediator). Observations outside caliper dropped. Calipers specified standard deviations covariates. NULL default (caliper). L Number matches use unit. Must numeric vector eitehr length 1 2. length 1, L sets number matches used first stage (matching mediator) second stage (matching treatment). length 2, first element sets number matches used first stage (matching mediator) second element sets number matches used second stage (matching treatment) Default 5. verbose logical indicating whether display progress information. Default TRUE. subset vector logicals indicating rows data keep. contrasts list passed contrasts.arg argument model.matrix() generating data matrix. separate_bc logical indicating whether bias correction regressions run separately within levels treatment mediator. Defaults TRUE. TRUE, interactions treatment/mediator covariates specification omitted. ... additional arguments passed low level     regression fitting functions (see ).","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/telescope_match.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform telescope matching to estimate the controlled\ndirect effect of a binary treatment net the effect of binary\nmediators — telescope_match","text":"Returns object classtmatch. Contains following components call: matched call. formula: formula used fit model. m_out: list matching soluations time     point. member list `matches` list giving     units matched unit, `donors` list units     unit matched, `tr` vector just     treatment vector matched. K: data.frame indicating many times unit     used match, directly period indirectly     across periods. L: vector matching ratios used period. r_out: nested list regression imputations used     bias correction. first level list varies across     different controlled direct effects (different sequences future     treatments/mediators). list time periods     time periods list `yhat_r_0` `yhat_r_1`     give regression predictions potential outcomes     time point treatment time point 0 1,     respectively, along `n_coefs` giving number     coefficients estimated models. tau: vector bias-corrected estimates average     controlled direct effects different vectors future     treatments/mediators. tau_raw: vector standard matching estimates average     controlled direct effects different vectors future     treatments/mediators without using bias correction. tau_se: vector estimated standard errors average     controlled direct effects estimates different vectors future     treatments/mediators. tau_i: matrix individuals contributions ACDE     estimates (units rows, different ACDEs columns). Used     weighted bootstrap. included: logical vector indicating row     data included estimating tau. effects: data frame row describes     different ACDEs tau. active column describes     variable's direct effect assessed rest     columns describe fixed values future     treatments/mediators ACDE. a_names: character vector names     treatment/mediator variables used estimation. caliper: caliper () used matching drop     distant observations.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/telescope_match.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Perform telescope matching to estimate the controlled\ndirect effect of a binary treatment net the effect of binary\nmediators — telescope_match","text":"telescope_match function implements   two-stage \"telescope matching\" procedure developed Blackwell   Strezhnev (2021). procedure first estimates demediated outcome using  combination matching regression bias-correction.  data.frame passed data wide  format row corresponds single unit  treatments covariates different time periods appear  different columns. formula arugment specifies  causal ordering variables regression specifications  bias correction. form Y ~ X1 |  A1 | X2 | A2, Y outcome, X1  formula baseline covariates, A1 single variable  name indicating binary treatment first period,  X2 formula covariates period 2, A2  single variable name indicating treatment period 2 ( also sometimes called mediator). Note possible  add covariate/treatment pairs additional time periods. default separate_bc == TRUE, function match treatment/mediator based covariates point within levels past treatments (A2 matching finds units similar values X1 X2 value A1). matching complete, function moves backward treatments imputes potential outcomes using matches bias-correction regressions, regress current imputed potential outcome past covariates, within levels treatment history current period. functional form comes specification formula. Controlled direct effects A1 estimated every possible combination future treatments. separate_bc FALSE, bias correction regressions broken treatments/mediators variables simply included separate regressors specified formula. setting, interactions treatment/mediator covariates can added selective basis covariate block (X1 X2 ) specifications. Matching performed using Match() routine Matching package. default, matching L--1 nearest neighbor replacement using Mahalanobis distance. See references details.","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/telescope_match.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Perform telescope matching to estimate the controlled\ndirect effect of a binary treatment net the effect of binary\nmediators — telescope_match","text":"Blackwell, Matthew, Strezhnev, Anton (2020) \"Telescope Matching: Reducing Model Dependence Estimation Direct Effects.\" Journal Royal Statistical Society (Series ). doi: 10.1111/rssa.12759","code":""},{"path":"https://mattblackwell.github.io/DirectEffects/reference/telescope_match.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Perform telescope matching to estimate the controlled\ndirect effect of a binary treatment net the effect of binary\nmediators — telescope_match","text":"","code":"data(jobcorps)  ## Split male/female jobcorps_female <- subset(jobcorps, female == 1)  ## Telescope matching formula - First stage (X and Z) tm_form <- exhealth30 ~  schobef + trainyrbef + jobeverbef  | treat | emplq4 + emplq4full | work2year2q   ### Estimate ACDE for women holding employment at 0 tm_out <-  telescope_match(   tm_form,   data = jobcorps_female,   L = 3,   boot = FALSE,   verbose = TRUE ) #> Beginning matching... #> Matching work2year2q... #> Matching treat... #> Beginning bias correction..."}]
